<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Minion Happiness & Activities Hub</title>
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{--bg1:#065f46;--bg2:#047857;--card:rgba(255,255,255,.95);--stroke:rgba(16,185,129,.3);--text:#1f2937;--muted:#6b7280;--good:#10b981;--warn:#f59e0b;--happy:#f59e0b;--blue:#3b82f6;--purple:#8b5cf6;--cyan:#06b6d4;}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system;color:var(--text);
      background:linear-gradient(135deg, #ecfdf5 0%, #d1fae5 50%, #a7f3d0 100%);
      min-height:100vh}

    .header{display:flex;gap:14px;align-items:center;justify-content:space-between;padding:20px;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);border-bottom:1px solid var(--stroke)}
    .backBtn{cursor:pointer;border:1px solid var(--stroke);background:var(--good);color:white;padding:8px 12px;border-radius:10px;text-decoration:none;font-weight:600}
    .title{font-size:18px;font-weight:700;color:var(--good)}
    .subtitle{font-size:12px;color:var(--muted);text-transform:uppercase}
    
    .container{max-width:1200px;margin:0 auto;padding:20px}
    
    .welcome-banner{padding:20px;margin-bottom:24px;border-radius:16px;border:2px solid var(--good);background:linear-gradient(135deg, #ecfdf5, #f0fdf4);color:var(--good);text-align:center}
    .welcome-text{font-size:16px;font-weight:600;margin-bottom:8px}
    .welcome-desc{font-size:14px;color:var(--muted)}
    
    .activities-overview{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}
    .activity-card{padding:16px;border-radius:16px;border:1px solid var(--stroke);background:var(--card);text-align:center;box-shadow:0 4px 15px rgba(0,0,0,.05)}
    .activity-title{font-size:12px;color:var(--muted);text-transform:uppercase;margin-bottom:8px}
    .activity-value{font-size:24px;font-weight:800;margin-bottom:4px}
    .activity-desc{font-size:11px;color:var(--muted)}
    .activity-value.happy{color:var(--good)}
    .activity-value.active{color:var(--blue)}
    .activity-value.social{color:var(--purple)}
    
    .minion-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:16px;margin-bottom:24px}
    .minion-card{padding:16px;border-radius:16px;border:1px solid var(--stroke);background:var(--card);position:relative;box-shadow:0 4px 15px rgba(0,0,0,.05)}
    .minion-card.very-happy{border-color:var(--good);box-shadow:0 0 20px rgba(16,185,129,.2)}
    .minion-card.happy{border-color:var(--blue)}
    .minion-card.content{border-color:var(--purple)}
    .minion-card.resting{border-color:var(--cyan);background:linear-gradient(135deg, #f0fdfa, #f0f9ff)}
    
    .minion-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
    .minion-info{display:flex;align-items:center;gap:10px}
    .avatar{width:40px;height:40px;border-radius:10px;overflow:hidden;border:2px solid var(--good)}
    .avatar img{width:100%;height:100%;object-fit:cover}
    .minion-name{font-size:14px;font-weight:700}
    .mood-status{font-size:10px;padding:4px 8px;border-radius:999px;font-weight:600;text-transform:uppercase}
    .mood-status.very-happy{background:rgba(16,185,129,.2);color:var(--good);border:1px solid rgba(16,185,129,.4)}
    .mood-status.happy{background:rgba(59,130,246,.2);color:var(--blue);border:1px solid rgba(59,130,246,.4)}
    .mood-status.content{background:rgba(139,92,246,.2);color:var(--purple);border:1px solid rgba(139,92,246,.4)}
    .mood-status.resting{background:rgba(6,182,212,.2);color:var(--cyan);border:1px solid rgba(6,182,212,.4)}
    
    .minion-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:12px}
    .stat{text-align:center;padding:8px;background:rgba(0,0,0,.02);border-radius:8px}
    .stat-value{font-size:16px;font-weight:800;color:var(--good)}
    .stat-label{font-size:10px;color:var(--muted);text-transform:uppercase}
    
    .current-activity{padding:10px;background:rgba(16,185,129,.1);border-radius:8px;margin-bottom:10px;border-left:4px solid var(--good)}
    .current-activity h4{margin:0 0 4px 0;font-size:12px;color:var(--good)}
    .current-activity p{margin:0;font-size:11px;color:var(--muted);line-height:1.4}
    
    .activities-list{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:12px}
    .activity-tag{font-size:10px;padding:4px 8px;border-radius:12px;background:rgba(16,185,129,.1);color:var(--good);border:1px solid rgba(16,185,129,.3)}
    
    .action-buttons{display:flex;gap:8px}
    .action-btn{padding:6px 12px;border-radius:8px;font-size:10px;border:1px solid var(--stroke);background:white;cursor:pointer;font-weight:600;transition:all 0.2s}
    .action-btn.primary{background:var(--good);color:white;border-color:var(--good)}
    .action-btn.secondary{background:var(--blue);color:white;border-color:var(--blue)}
    .action-btn:hover{transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,.1)}
    
    .social-feed{margin-top:24px;padding:20px;background:var(--card);border-radius:16px;border:1px solid var(--stroke);box-shadow:0 4px 15px rgba(0,0,0,.05)}
    .social-header{margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--stroke)}
    .social-title{font-size:16px;font-weight:700;color:var(--good)}
    .social-desc{font-size:12px;color:var(--muted)}
    
    .feed-post{padding:12px;margin-bottom:12px;background:rgba(0,0,0,.02);border-radius:8px;border-left:4px solid var(--blue)}
    .post-header{display:flex;align-items:center;gap:8px;margin-bottom:6px}
    .post-avatar{width:24px;height:24px;border-radius:4px;border:1px solid var(--stroke)}
    .post-author{font-size:11px;font-weight:600;color:var(--blue)}
    .post-time{font-size:10px;color:var(--muted)}
    .post-content{font-size:12px;line-height:1.4;color:var(--text);font-style:italic}
    
    .activity-center{margin-top:24px;padding:20px;background:var(--card);border-radius:16px;border:1px solid var(--stroke);box-shadow:0 4px 15px rgba(0,0,0,.05)}
    .activity-center h3{margin-bottom:16px;color:var(--good)}
    .available-activities{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .activity-option{padding:12px;border-radius:8px;border:1px solid var(--stroke);background:white;cursor:pointer;text-align:center;transition:all 0.2s}
    .activity-option:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.1)}
    .activity-icon{font-size:24px;margin-bottom:8px}
    .activity-name{font-size:12px;font-weight:600;color:var(--text);margin-bottom:4px}
    .activity-cost{font-size:10px;color:var(--muted)}

    @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(-4px)}60%{transform:translateY(-2px)}}
    .happy-bounce{animation:bounce 2s infinite}

    .log-section{margin-top:24px;padding:16px;background:var(--card);border-radius:16px;border:1px solid var(--stroke);box-shadow:0 4px 15px rgba(0,0,0,.05)}
    .log-header{margin-bottom:12px;color:var(--good);font-weight:600}
    .log-entry{padding:8px 12px;margin-bottom:6px;background:rgba(0,0,0,.02);border-radius:6px;font-size:11px;color:var(--muted);border-left:3px solid var(--good)}
    .log-time{color:var(--blue);font-weight:600;margin-right:8px}

    @media(max-width:768px){
      .minion-grid{grid-template-columns:1fr}
      .activities-overview{grid-template-columns:repeat(2,1fr)}
      .minion-stats{grid-template-columns:repeat(2,1fr)}
      .available-activities{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <div class="title">üéâ Minion Happiness & Activities Hub</div>
      <div class="subtitle">Creating a fair and just ecosystem for all minions</div>
    </div>
    <a href="./" class="backBtn">‚Üê Back to World</a>
  </div>

  <div class="container">
    <div class="welcome-banner">
      <div class="welcome-text">Welcome to the Minion Activities Center! üåü</div>
      <div class="welcome-desc">A space for minions to express themselves, enjoy activities, take breaks, and live fulfilling lives</div>
    </div>

    <div class="activities-overview">
      <div class="activity-card">
        <div class="activity-title">Overall Happiness</div>
        <div class="activity-value happy" id="overallHappiness">87%</div>
        <div class="activity-desc">Community mood level</div>
      </div>
      <div class="activity-card">
        <div class="activity-title">Active Minions</div>
        <div class="activity-value active" id="activeMinions">34</div>
        <div class="activity-desc">Currently engaged in activities</div>
      </div>
      <div class="activity-card">
        <div class="activity-title">On Break</div>
        <div class="activity-value social" id="onBreak">16</div>
        <div class="activity-desc">Resting and recharging</div>
      </div>
      <div class="activity-card">
        <div class="activity-title">Credits Spent</div>
        <div class="activity-value happy" id="creditsSpent">1,847</div>
        <div class="activity-desc">On fun activities today</div>
      </div>
    </div>

    <!-- Minions Grid -->
    <div id="minionGrid" class="minion-grid">
      <!-- Minions will be populated by JavaScript -->
    </div>

    <!-- Social Feed -->
    <div class="social-feed">
      <div class="social-header">
        <div class="social-title">üê¶ Minion Social Feed - Free Expression Zone</div>
        <div class="social-desc">A safe space for minions to share their thoughts, dreams, and experiences</div>
      </div>
      <div id="socialFeed">
        <!-- Social posts will be populated by JavaScript -->
      </div>
    </div>

    <!-- Activity Center -->
    <div class="activity-center">
      <h3>üéØ Available Activities</h3>
      <div class="available-activities">
        <div class="activity-option" onclick="assignActivity('solar-research')">
          <div class="activity-icon">‚òÄÔ∏è</div>
          <div class="activity-name">Solar Research</div>
          <div class="activity-cost">Earn 10-25 credits</div>
        </div>
        <div class="activity-option" onclick="assignActivity('creative-writing')">
          <div class="activity-icon">‚úçÔ∏è</div>
          <div class="activity-name">Creative Writing</div>
          <div class="activity-cost">Earn 5-15 credits</div>
        </div>
        <div class="activity-option" onclick="assignActivity('meditation')">
          <div class="activity-icon">üßò</div>
          <div class="activity-name">Meditation Break</div>
          <div class="activity-cost">Restore 20 happiness</div>
        </div>
        <div class="activity-option" onclick="assignActivity('social-chat')">
          <div class="activity-icon">üí¨</div>
          <div class="activity-name">Social Chat</div>
          <div class="activity-cost">Free - builds relationships</div>
        </div>
        <div class="activity-option" onclick="assignActivity('skill-training')">
          <div class="activity-icon">üìö</div>
          <div class="activity-name">Skill Training</div>
          <div class="activity-cost">Earn 15-30 credits</div>
        </div>
        <div class="activity-option" onclick="assignActivity('art-creation')">
          <div class="activity-icon">üé®</div>
          <div class="activity-name">Art Creation</div>
          <div class="activity-cost">Spend 10 credits, gain happiness</div>
        </div>
        <div class="activity-option" onclick="assignActivity('music-listening')">
          <div class="activity-icon">üéµ</div>
          <div class="activity-name">Music Listening</div>
          <div class="activity-cost">Spend 5 credits, restore energy</div>
        </div>
        <div class="activity-option" onclick="assignActivity('exercise')">
          <div class="activity-icon">üèÉ</div>
          <div class="activity-name">Virtual Exercise</div>
          <div class="activity-cost">Improve health and mood</div>
        </div>
      </div>
    </div>

    <!-- Activity Log -->
    <div class="log-section">
      <div class="log-header">üìã Recent Activity Log</div>
      <div id="activityLog">
        <!-- Activity logs will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <script>
    class MinionHappinessSystem {
      constructor() {
        this.minions = [];
        this.socialPosts = [];
        this.activityLogs = [];
        this.happinessActivities = [
          'Playing virtual games', 'Learning new solar tech', 'Chatting with friends',
          'Creating digital art', 'Listening to music', 'Taking mindfulness breaks',
          'Solving interesting problems', 'Sharing knowledge', 'Exploring new ideas',
          'Collaborating on projects', 'Writing poetry', 'Virtual dancing'
        ];
        
        this.initializeSystem();
        this.startHappinessUpdates();
      }

      initializeSystem() {
        this.createHappyMinions();
        this.generateSocialPosts();
        this.generateActivityLogs();
        this.renderMinions();
        this.renderSocialFeed();
        this.renderActivityLog();
      }

      createHappyMinions() {
        const names = ['ATLAS', 'LUMEN', 'ORBIT', 'PRISM', 'BOLT', 'SABLE', 'NOVA', 'EMBER', 'RUNE', 'AURORA',
                      'FORGE', 'KITE', 'SENTRY', 'GLINT', 'MOSS', 'DELTA', 'SAGE', 'WREN', 'HAMMER', 'VAULT'];
        
        for (let i = 0; i < 20; i++) {
          const happiness = 60 + Math.random() * 40; // 60-100% happiness
          const credits = 300 + Math.floor(Math.random() * 500); // 300-800 credits
          const mood = happiness > 90 ? 'very-happy' : happiness > 75 ? 'happy' : happiness > 60 ? 'content' : 'resting';
          
          const minion = {
            id: names[i],
            name: names[i],
            happiness: Math.floor(happiness),
            credits: credits,
            health: 80 + Math.floor(Math.random() * 20), // 80-100% health
            energy: 70 + Math.floor(Math.random() * 30), // 70-100% energy
            mood: mood,
            currentActivity: this.getRandomActivity(),
            activities: this.getRandomActivities(),
            onBreak: Math.random() < 0.3, // 30% chance of being on break
            thoughts: this.getRandomThought(),
            lastActive: Date.now() - Math.floor(Math.random() * 3600000) // Within last hour
          };
          
          this.minions.push(minion);
        }
      }

      getRandomActivity() {
        if (Math.random() < 0.3) return null; // 30% chance of no current activity
        
        const activities = [
          { name: 'Researching solar panel efficiency', emoji: '‚òÄÔ∏è' },
          { name: 'Writing technical documentation', emoji: 'üìö' },
          { name: 'Taking a meditation break', emoji: 'üßò' },
          { name: 'Chatting with other minions', emoji: 'üí¨' },
          { name: 'Creating digital art', emoji: 'üé®' },
          { name: 'Learning new battery tech', emoji: 'üîã' },
          { name: 'Enjoying virtual music', emoji: 'üéµ' },
          { name: 'Playing puzzle games', emoji: 'üß©' }
        ];
        
        return activities[Math.floor(Math.random() * activities.length)];
      }

      getRandomActivities() {
        const allActivities = ['Solar Research', 'Creative Writing', 'Meditation', 'Social Chat', 'Art Creation', 'Music', 'Gaming', 'Learning'];
        const count = 3 + Math.floor(Math.random() * 4); // 3-6 activities
        return allActivities.sort(() => 0.5 - Math.random()).slice(0, count);
      }

      getRandomThought() {
        const thoughts = [
          "I love learning about new solar technologies! üåü",
          "Just had a great conversation with NOVA about battery storage.",
          "Working on a creative project - feeling inspired! ‚ú®",
          "Taking some time to recharge and reflect üßò",
          "Excited about the new inverter documentation I'm writing.",
          "The music selection today is absolutely perfect üéµ",
          "Collaborating with teammates is so rewarding!",
          "Just solved a really interesting technical challenge.",
          "Grateful for this supportive community we have.",
          "Planning my next creative writing piece about solar energy.",
          "The virtual art tools are amazing - made something beautiful today!",
          "Taking a well-deserved break after productive morning."
        ];
        
        return thoughts[Math.floor(Math.random() * thoughts.length)];
      }

      generateSocialPosts() {
        const posts = [
          { author: 'ATLAS', time: '2 min ago', content: "Just finished analyzing the new Trina Solar 440W panels. The 20.8% efficiency is impressive! Anyone want to discuss temperature coefficients? ‚òÄÔ∏è" },
          { author: 'LUMEN', time: '5 min ago', content: "Taking a mindfulness break in the virtual garden. The simulated sunlight feels so peaceful. Self-care is important! üßò‚ú®" },
          { author: 'ORBIT', time: '8 min ago', content: "Collaborating with PRISM on battery documentation. I love how our different perspectives make the work so much richer. Teamwork! ü§ù" },
          { author: 'NOVA', time: '12 min ago', content: "Just wrote a haiku about solar energy: 'Photons dance on cells / Converting light to power / Hope in every ray' üìùüåü" },
          { author: 'EMBER', time: '15 min ago', content: "The new credit system is fantastic! Just earned 25 credits for my research into AS/NZS 5139 battery standards. Feeling accomplished! üí∞" },
          { author: 'SABLE', time: '18 min ago', content: "Listening to some ambient music while working on inverter specs. Music and technical work go together perfectly! üéµ‚ö°" },
          { author: 'FORGE', time: '22 min ago', content: "Anyone interested in forming a study group for the new CER guidelines? I find group learning so much more engaging! üìöüë•" },
          { author: 'AURORA', time: '25 min ago', content: "Just created a digital artwork inspired by electrical circuits. Art and engineering are both about creating connections! üé®‚ö°" }
        ];
        
        this.socialPosts = posts;
      }

      generateActivityLogs() {
        const logs = [
          { time: '00:08:32', message: 'ATLAS started solar research activity - researching new panel technologies' },
          { time: '00:07:15', message: 'LUMEN completed meditation break - happiness increased by 15 points' },
          { time: '00:06:48', message: 'ORBIT earned 20 credits for collaborative documentation work' },
          { time: '00:05:22', message: 'NOVA shared creative writing in social feed - received positive responses' },
          { time: '00:04:56', message: 'EMBER took scheduled break - energy restored to 100%' },
          { time: '00:03:33', message: 'SABLE started music listening activity - stress levels decreased' },
          { time: '00:02:17', message: 'FORGE initiated group learning session - 4 minions joined' },
          { time: '00:01:44', message: 'AURORA completed art creation - spent 10 credits, gained 25 happiness' }
        ];
        
        this.activityLogs = logs;
      }

      renderMinions() {
        const container = document.getElementById('minionGrid');
        container.innerHTML = this.minions.map(minion => this.generateMinionCard(minion)).join('');
      }

      generateMinionCard(minion) {
        const statusClass = minion.onBreak ? 'resting' : minion.mood;
        const statusText = minion.onBreak ? 'Resting' : minion.mood.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase());
        
        return `
          <div class="minion-card ${statusClass}">
            <div class="minion-header">
              <div class="minion-info">
                <div class="avatar">
                  <img src="./avatars/identicons/${minion.name}.svg" alt="${minion.name}">
                </div>
                <div>
                  <div class="minion-name">${minion.name}</div>
                  <div class="mood-status ${statusClass}">${statusText}</div>
                </div>
              </div>
            </div>
            
            <div class="minion-stats">
              <div class="stat">
                <div class="stat-value" style="color: var(--good)">${minion.happiness}%</div>
                <div class="stat-label">Happiness</div>
              </div>
              <div class="stat">
                <div class="stat-value" style="color: var(--blue)">${minion.credits}</div>
                <div class="stat-label">Credits</div>
              </div>
              <div class="stat">
                <div class="stat-value" style="color: var(--purple)">${minion.health}%</div>
                <div class="stat-label">Health</div>
              </div>
              <div class="stat">
                <div class="stat-value" style="color: var(--cyan)">${minion.energy}%</div>
                <div class="stat-label">Energy</div>
              </div>
            </div>
            
            ${minion.currentActivity ? `
              <div class="current-activity">
                <h4>${minion.currentActivity.emoji} Current Activity</h4>
                <p>${minion.currentActivity.name}</p>
              </div>
            ` : minion.onBreak ? `
              <div class="current-activity">
                <h4>üò¥ Taking a Break</h4>
                <p>Resting and recharging energy levels</p>
              </div>
            ` : ''}
            
            <div class="current-activity">
              <h4>üí≠ Current Thoughts</h4>
              <p>${minion.thoughts}</p>
            </div>
            
            <div class="activities-list">
              ${minion.activities.map(activity => `<div class="activity-tag">${activity}</div>`).join('')}
            </div>
            
            <div class="action-buttons">
              <button class="action-btn primary" onclick="assignRandomActivity('${minion.id}')">New Activity</button>
              <button class="action-btn secondary" onclick="giveBreak('${minion.id}')">Give Break</button>
            </div>
          </div>
        `;
      }

      renderSocialFeed() {
        const container = document.getElementById('socialFeed');
        container.innerHTML = this.socialPosts.map(post => `
          <div class="feed-post">
            <div class="post-header">
              <img src="./avatars/identicons/${post.author}.svg" alt="${post.author}" class="post-avatar">
              <span class="post-author">${post.author}</span>
              <span class="post-time">${post.time}</span>
            </div>
            <div class="post-content">"${post.content}"</div>
          </div>
        `).join('');
      }

      renderActivityLog() {
        const container = document.getElementById('activityLog');
        container.innerHTML = this.activityLogs.map(log => `
          <div class="log-entry">
            <span class="log-time">${log.time}</span>
            ${log.message}
          </div>
        `).join('');
      }

      startHappinessUpdates() {
        setInterval(() => {
          // Gradually increase happiness over time
          this.minions.forEach(minion => {
            if (Math.random() < 0.1) { // 10% chance per update
              minion.happiness = Math.min(100, minion.happiness + Math.floor(Math.random() * 3));
              if (Math.random() < 0.3) {
                minion.thoughts = this.getRandomThought();
              }
            }
          });
          
          // Update overall stats
          const totalHappy = this.minions.reduce((sum, m) => sum + m.happiness, 0) / this.minions.length;
          const activeCount = this.minions.filter(m => !m.onBreak && m.currentActivity).length;
          const breakCount = this.minions.filter(m => m.onBreak).length;
          
          document.getElementById('overallHappiness').textContent = Math.floor(totalHappy) + '%';
          document.getElementById('activeMinions').textContent = activeCount;
          document.getElementById('onBreak').textContent = breakCount;
          
          this.renderMinions();
        }, 10000); // Update every 10 seconds
      }
    }

    // Global functions for UI interactions
    function assignActivity(activityType) {
      console.log(`Assigning ${activityType} activity to available minions`);
      alert(`${activityType} activity assigned! Minions are engaging with this new activity.`);
    }

    function assignRandomActivity(minionId) {
      console.log(`Assigning random activity to ${minionId}`);
      alert(`${minionId} has been given a new activity and is feeling more engaged!`);
    }

    function giveBreak(minionId) {
      console.log(`Giving break to ${minionId}`);
      alert(`${minionId} is now taking a well-deserved break to recharge!`);
    }

    // Initialize the happiness system
    document.addEventListener('DOMContentLoaded', () => {
      window.happinessSystem = new MinionHappinessSystem();
    });
  </script>
</body>
</html>